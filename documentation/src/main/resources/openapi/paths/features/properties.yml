get:
  summary: List all properties of a feature
  description: |-
    Returns all properties of the feature identified by the `thingId` and
    `featureId` path parameter.
  tags:
    - Features
  parameters:
    - $ref: '#/components/parameters/thingIdPathParam'
    - $ref: '#/components/parameters/featureIdPathPathParam'
    - $ref: '#/components/parameters/propertiesFieldsQueryParam'
    - $ref: '#/components/parameters/ifMatchHeaderParamHash'
    - $ref: '#/components/parameters/ifNoneMatchHeaderParam'
    - $ref: '#/components/parameters/timeoutParam'
  responses:
    '200':
      description: The properties were successfully retrieved.
      headers:
        ETag:
          description: |-
            The (current server-side) ETag for this (sub-)resource. For top-level resources it is in the format
            "rev:[revision]", for sub-resources it has the format "hash:[calculated-hash]".
          schema:
            type: string
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/FeatureProperties'
    '304':
      $ref: '#/components/responses/notModified'
    '400':
      description: |-
        The request could not be completed. Possible reasons:
          * the `thingId` does not conform to the namespaced entity ID notation (see [Ditto documentation on namespaced entity IDs](https://www.eclipse.org/ditto/basic-namespaces-and-names.html#namespaced-id)).
          * at least one of the defined query parameters is invalid.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AdvancedError'
    '401':
      description: The request could not be completed due to missing authentication.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AdvancedError'

    '404':
      description: |-
        The request could not be completed. The specified feature has no
        properties or the thing with the specified `thingId` or the feature
        with `featureId` was not found.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AdvancedError'
    '412':
      $ref: '#/components/responses/preconditionFailed'
put:
  summary: Create or update all properties of a feature at once
  description: |-
    Create or update the properties of a feature identified by the `thingId`
    and `featureId` path parameter.

    The properties will be overwritten with the JSON content from the request body.
  tags:
    - Features
  parameters:
    - $ref: '#/components/parameters/thingIdPathParam'
    - $ref: '#/components/parameters/featureIdPathPathParam'
    - $ref: '#/components/parameters/ifMatchHeaderParamHash'
    - $ref: '#/components/parameters/ifNoneMatchHeaderParam'
    - $ref: '#/components/parameters/requestedAcksParam'
    - $ref: '#/components/parameters/timeoutParam'
    - $ref: '#/components/parameters/responseRequiredParam'
  responses:
    '201':
      description: The properties were successfully created.
      headers:
        ETag:
          description: |-
            The (current server-side) ETag for this (sub-)resource. For top-level resources it is in the format
            "rev:[revision]", for sub-resources it has the format "hash:[calculated-hash]".
          schema:
            type: string
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/FeatureProperties'
    '204':
      description: The properties were successfully updated.
      headers:
        ETag:
          description: |-
            The (current server-side) ETag for this (sub-)resource. For top-level resources it is in the format
            "rev:[revision]", for sub-resources it has the format "hash:[calculated-hash]".
          schema:
            type: string
    '400':
      description: |-
        The request could not be completed. Possible reasons:
          * the `thingId` does not conform to the namespaced entity ID notation (see [Ditto documentation on namespaced entity IDs](https://www.eclipse.org/ditto/basic-namespaces-and-names.html#namespaced-id)).
          * the JSON body of the feature properties to be created/modified is invalid
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AdvancedError'
    '401':
      description: The request could not be completed due to missing authentication.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AdvancedError'

    '403':
      description: |-
        The request could not be completed. Possible reasons:

          * the caller has insufficient permissions.
            For modifying the properties of an existing feature, `WRITE` permission is required.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AdvancedError'
    '404':
      description: |-
        The request could not be completed. The thing or the feature with
        the given ID was not found.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AdvancedError'
    '412':
      $ref: '#/components/responses/preconditionFailed'
    '413':
      $ref: '#/components/responses/entityTooLarge'
  requestBody:
    content:
      application/json:
        schema:
          $ref: '#/components/schemas/FeatureProperties'
        example: {
          "configuration": {
            "smartMode": true,
            "brewingTemp": 87,
            "tempToHold": 44,
            "timeoutSeconds": 6000
          },
          "status": {
            "waterAmount": 731,
            "temperature": 44
          }
        }
    description: |-
      JSON object of all properties to be updated at once.

      Consider that the value has to be a JSON object or `null`. We strongly recommend to use
      a restricted set of characters for the key (identifier).

      Currently these identifiers should follow the pattern: [_a-zA-Z][_a-zA-Z0-9\-]*

    required: true
delete:
  summary: Delete all properties of a feature
  description: |-
    Deletes all properties of the feature identified by the `thingId` and
    `featureId` path parameter.
  tags:
    - Features
  parameters:
    - $ref: '#/components/parameters/thingIdPathParam'
    - $ref: '#/components/parameters/featureIdPathPathParam'
    - $ref: '#/components/parameters/ifMatchHeaderParamHash'
    - $ref: '#/components/parameters/ifNoneMatchHeaderParam'
    - $ref: '#/components/parameters/requestedAcksParam'
    - $ref: '#/components/parameters/timeoutParam'
    - $ref: '#/components/parameters/responseRequiredParam'
  responses:
    '204':
      description: The properties were successfully deleted.
    '400':
      description: |-
        The request could not be completed. Possible reasons:
          * the `thingId` does not conform to the namespaced entity ID notation (see [Ditto documentation on namespaced entity IDs](https://www.eclipse.org/ditto/basic-namespaces-and-names.html#namespaced-id)).
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AdvancedError'
    '401':
      description: The request could not be completed due to missing authentication.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AdvancedError'
    '403':
      description: |-
        The request could not be completed. Possible reasons:

          * the caller has insufficient permissions.
            For deleting the properties of an existing feature, `WRITE` permission is required.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AdvancedError'
    '404':
      description: |-
        The request could not be completed. The specified feature has no
        properties or the thing with the specified `thingId` or the feature
        with `featureId` was not found.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AdvancedError'
    '412':
      $ref: '#/components/responses/preconditionFailed'