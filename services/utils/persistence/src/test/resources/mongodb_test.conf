mongodb {
  maxQueryTime = 10s

  hostname = "mongodb"
  port = 27017
  authentication = "foo:bar"
  database = "test"

  #uri = "mongodb://"${?mongodb.authentication}${mongodb.hostname}":"${mongodb.port}"/"${mongodb.database}
  uri = "mongodb://foo:bar@mongodb:27017/test"

  pool {
    maxSize = 1000
    maxWaitTime = 42s
    maxWaitQueueSize = 1000
    jmxListenerEnabled = true
  }

  options {
    ssl = true
    w = 1
  }

  breaker {
    maxFailures = 23
    timeout {
      call = 13s
      reset = 7s
    }
  }

  monitoring {
    commands = true
    connection-pool = true
  }
}
